<div class="keepers-form">
  <h1 class="text-center">טופס בחירת קיפרים: {{ teamName }}</h1>
  <div class="d-flex flex-column me-3">
    <div>
      תקציב דראפט אוקשן לעונה הבאה:
      <span>{{ auctionBudget }}$</span>
    </div>
    <mat-divider></mat-divider>
    <div class="mt-2"> אתה מחזיק בבחירה X בדראפט הרוקיז
    <div>{{ rookiesDraft }}</div>
    <mat-divider></mat-divider>
    <div class="mt-2">שוק שכירי חרב: {{ veteransMarket }}</div>
    <mat-checkbox 
    (change)="onCheck($event)"
    [disabled]="keepersList.length === 5 && openKeeperSlots === 0"
    >מוותר על השתתפות בשוק שכירי החרב לצורך פינוי משבצת לקיפר
      נוסף</mat-checkbox
    >
    <mat-divider></mat-divider>
  </div>
  <form class="mt-3">
    <div class="d-flex justify-content-around">
        <mat-form-field>
          <mat-label>שחקני מקס</mat-label>
          <mat-select 
          (selectionChange)="onFirstMaxSelect($event)"
          [disabled]="signedMaxPlayer"
          >
              <mat-option
              multiple
              *ngFor="let player of maxPlayersList"
               [value]="player.value">{{ player.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="secondMaxPlayersList.length > 0 && signedMaxPlayer">
          <mat-label>שחקן מקס נוסף</mat-label>
          <mat-select 
          (selectionChange)="onSecondMaxSelect($event)"
          [disabled]="signedMaxpiring || signedSecondMax"
          >
              <mat-option
              *ngFor="let player of secondMaxPlayersList"
               [value]="player.value">{{ player.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>

      <mat-form-field *ngIf="maxpiringPlayerOptions.length > 0">
        <mat-label>שואפי-מקס</mat-label>
        <mat-select (selectionChange)="onMaxpiringSelect($event)" [disabled]="signedMaxpiring || signedSecondMax">
          <mat-option
            *ngFor="let player of maxpiringPlayerOptions"
            [value]="player.value"
            >{{ player.viewValue }}</mat-option
          >
        </mat-select>
      </mat-form-field>
    </div>

    <div class="d-flex justify-content-around">
        <mat-form-field>
          <mat-label>סולידי - מלא או מפוצל</mat-label>
          <mat-select 
          [formControl]="selectedSolids" 
          multiple
          (selectionChange)="onSelectionChange($event)"
          >
              <mat-option
              *ngFor="let player of potentialSolids"
               [value]="player">{{ player }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>חוזה וטרן יקר (1+1) </mat-label>
          <mat-select 
          [formControl]="selectedPriceyVet" 
          multiple
          (selectionChange)="onSelectionChange($event)"
          >
              <mat-option
              *ngFor="let player of potentialPriceyVets"
               [value]="player">{{ player }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

    <div class="d-flex justify-content-around">
      <mat-form-field>
        <mat-label>חוזי וטרן זול </mat-label>
        <mat-select 
        [formControl]="selectedCheapVets" 
        multiple
        (selectionChange)="onCheapVeteranSelect($event)"
        >
            <mat-option
            *ngFor="let player of potentialCheapVets"
             [value]="player">{{ player.viewValue }}</mat-option>
        </mat-select>
      </mat-form-field>
        <mat-form-field>
          <mat-label>Undrafted Rookies</mat-label>
          <mat-select 
          [formControl]="selectedUndraftedRookies" 
          multiple
          (selectionChange)="onUndraftedRookieSelect($event)"
          >
              <mat-option
              *ngFor="let player of potentialUndraftedRookies"
               [value]="player">{{ player.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>
    </div>

    <div></div>
    <div class="d-flex flex-column me-3">
      <h3>
        יש לך {{ keepersList.length }} קיפרים חתומים.
        {{ openKeeperSlots === 0 ? 'בשביל לפנות משבצת ותר על השתתפות בשוק שכירי החרב, או נסה לסחור בבחירתך בדראפט הרוקיז תמורת תוספת תקציב/בחירה עתידית.' : 'עליך להחתים עוד ' + openKeeperSlots }}
    </h3>
    
      <div class="d-flex justify-content-between">
        <ul>
          <li *ngFor="let keeper of keepersList">
            {{ keeper.player }} {{ keeper.nextSeasonSalary }}$
          </li>
        </ul>
        <div>הסברים ואזהרות</div>
        <button type="submit" [disabled] class="btn btn-outline-dark ms-2">
          שליחה
        </button>
      </div>
    </div>
  </form>
</div>